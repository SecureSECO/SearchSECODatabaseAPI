\hypertarget{classDatabaseHandler}{}\doxysection{Database\+Handler Class Reference}
\label{classDatabaseHandler}\index{DatabaseHandler@{DatabaseHandler}}


Handles interaction with database.  




{\ttfamily \#include $<$Database\+Handler.\+h$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \mbox{\hyperlink{classDatabaseHandler_acb0f7db07929290bb10ee7c424aee9a2}{connect}} (std\+::string ip, int port)
\begin{DoxyCompactList}\small\item\em Establishes a connection to the database. \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{classDatabaseHandler_a70d4f74d0fe004e6cc054a6aaa49e194}{add\+Project}} (\mbox{\hyperlink{structtypes_1_1ProjectIn}{Project\+In}} project)
\begin{DoxyCompactList}\small\item\em Adds a project to database. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classDatabaseHandler_a0ba0aeb2e4a38350a5cdd354ca64849c}{add\+Hash\+To\+Project}} (\mbox{\hyperlink{structtypes_1_1ProjectIn}{Project\+In}} project, int index)
\begin{DoxyCompactList}\small\item\em Adds a number of hashes to a project in the database, starting at some index. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{structtypes_1_1ProjectOut}{Project\+Out}} \mbox{\hyperlink{classDatabaseHandler_a0e968ed675264a5a3a35aef06e9cfca9}{search\+For\+Project}} (Project\+ID project\+ID, Version version)
\begin{DoxyCompactList}\small\item\em Searches for a project in the database and returns it to the user if it exists. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{structtypes_1_1ProjectOut}{Project\+Out}} \mbox{\hyperlink{classDatabaseHandler_ad78029a56591f8c817b652f10b96ac07}{prev\+Project}} (Project\+ID project\+ID)
\begin{DoxyCompactList}\small\item\em Retrieves the previous/latest version of the project present in the database. \end{DoxyCompactList}\item 
virtual void \mbox{\hyperlink{classDatabaseHandler_ab78a94781aaf3e4e692a153675b8c9b2}{add\+Method}} (\mbox{\hyperlink{structtypes_1_1MethodIn}{Method\+In}} method, \mbox{\hyperlink{structtypes_1_1ProjectIn}{Project\+In}} project, long long prev\+Version, long long parser\+Version, bool new\+Project)
\begin{DoxyCompactList}\small\item\em Adds/updates a method to the tables methods and method\+\_\+by\+\_\+author. Takes in a method and a project and adds the method to the database with specific information of the project. \end{DoxyCompactList}\item 
virtual std\+::vector$<$ Hash $>$ \mbox{\hyperlink{classDatabaseHandler_a845e3bb5b8470c9e276860e3eac15465}{update\+Unchanged\+Files}} (std\+::vector$<$ Hash $>$ hashes, std\+::vector$<$ std\+::string $>$ files, \mbox{\hyperlink{structtypes_1_1ProjectIn}{Project\+In}} project, long long prev\+Version)
\begin{DoxyCompactList}\small\item\em Updates the methods in the previous version of the project that are part of an unchanged file. \end{DoxyCompactList}\item 
virtual std\+::vector$<$ \mbox{\hyperlink{structtypes_1_1MethodOut}{Method\+Out}} $>$ \mbox{\hyperlink{classDatabaseHandler_a4e6082f015125e89739d19d1a26f2a39}{hash\+To\+Methods}} (std\+::string hash)
\begin{DoxyCompactList}\small\item\em Retrieves all methods with a given hash. \end{DoxyCompactList}\item 
virtual \mbox{\hyperlink{structtypes_1_1Author}{Author}} \mbox{\hyperlink{classDatabaseHandler_a0ed09c0a095972ad79dbe40edb27e425}{id\+To\+Author}} (std\+::string id)
\begin{DoxyCompactList}\small\item\em Retrieves an author given its author\+ID. \end{DoxyCompactList}\item 
virtual std\+::vector$<$ \mbox{\hyperlink{structtypes_1_1MethodID}{Method\+ID}} $>$ \mbox{\hyperlink{classDatabaseHandler_a2cb8107abe12431d2ed230040cf6bca2}{author\+To\+Methods}} (std\+::string author\+ID)
\begin{DoxyCompactList}\small\item\em Retrieves the methods created by an author given its author\+ID. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Handles interaction with database. 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{classDatabaseHandler_a0ba0aeb2e4a38350a5cdd354ca64849c}\label{classDatabaseHandler_a0ba0aeb2e4a38350a5cdd354ca64849c}} 
\index{DatabaseHandler@{DatabaseHandler}!addHashToProject@{addHashToProject}}
\index{addHashToProject@{addHashToProject}!DatabaseHandler@{DatabaseHandler}}
\doxysubsubsection{\texorpdfstring{addHashToProject()}{addHashToProject()}}
{\footnotesize\ttfamily void Database\+Handler\+::add\+Hash\+To\+Project (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structtypes_1_1ProjectIn}{Project\+In}}}]{project,  }\item[{int}]{index }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Adds a number of hashes to a project in the database, starting at some index. 


\begin{DoxyParams}{Parameters}
{\em project} & The project from which the hashes should be added to the database. \\
\hline
{\em index} & The starting index of the hashes which should be added to the database. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classDatabaseHandler_ab78a94781aaf3e4e692a153675b8c9b2}\label{classDatabaseHandler_ab78a94781aaf3e4e692a153675b8c9b2}} 
\index{DatabaseHandler@{DatabaseHandler}!addMethod@{addMethod}}
\index{addMethod@{addMethod}!DatabaseHandler@{DatabaseHandler}}
\doxysubsubsection{\texorpdfstring{addMethod()}{addMethod()}}
{\footnotesize\ttfamily void Database\+Handler\+::add\+Method (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structtypes_1_1MethodIn}{Method\+In}}}]{method,  }\item[{\mbox{\hyperlink{structtypes_1_1ProjectIn}{Project\+In}}}]{project,  }\item[{long long}]{prev\+Version,  }\item[{long long}]{parser\+Version,  }\item[{bool}]{new\+Project }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Adds/updates a method to the tables methods and method\+\_\+by\+\_\+author. Takes in a method and a project and adds the method to the database with specific information of the project. 


\begin{DoxyParams}{Parameters}
{\em method} & The method to be added/updated. \\
\hline
{\em project} & The project in which the method is located. \\
\hline
{\em prev\+Version} & The previous version of the project. \\
\hline
{\em parser\+Version} & The version of the parser. \\
\hline
{\em new\+Project} & Indication of the project being new or updated based on a previous version. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classDatabaseHandler_a70d4f74d0fe004e6cc054a6aaa49e194}\label{classDatabaseHandler_a70d4f74d0fe004e6cc054a6aaa49e194}} 
\index{DatabaseHandler@{DatabaseHandler}!addProject@{addProject}}
\index{addProject@{addProject}!DatabaseHandler@{DatabaseHandler}}
\doxysubsubsection{\texorpdfstring{addProject()}{addProject()}}
{\footnotesize\ttfamily bool Database\+Handler\+::add\+Project (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structtypes_1_1ProjectIn}{Project\+In}}}]{project }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Adds a project to database. 


\begin{DoxyParams}{Parameters}
{\em project} & The project to be added to the database. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A boolean value indicating if adding the project was successful. 
\end{DoxyReturn}
\mbox{\Hypertarget{classDatabaseHandler_a2cb8107abe12431d2ed230040cf6bca2}\label{classDatabaseHandler_a2cb8107abe12431d2ed230040cf6bca2}} 
\index{DatabaseHandler@{DatabaseHandler}!authorToMethods@{authorToMethods}}
\index{authorToMethods@{authorToMethods}!DatabaseHandler@{DatabaseHandler}}
\doxysubsubsection{\texorpdfstring{authorToMethods()}{authorToMethods()}}
{\footnotesize\ttfamily std\+::vector$<$ \mbox{\hyperlink{structtypes_1_1MethodID}{Method\+ID}} $>$ Database\+Handler\+::author\+To\+Methods (\begin{DoxyParamCaption}\item[{std\+::string}]{author\+ID }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Retrieves the methods created by an author given its author\+ID. 


\begin{DoxyParams}{Parameters}
{\em author\+ID} & The ID of the author to retrieve the methods for. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A vector with the necessary information of the methods the author has worked on. 
\end{DoxyReturn}
\mbox{\Hypertarget{classDatabaseHandler_acb0f7db07929290bb10ee7c424aee9a2}\label{classDatabaseHandler_acb0f7db07929290bb10ee7c424aee9a2}} 
\index{DatabaseHandler@{DatabaseHandler}!connect@{connect}}
\index{connect@{connect}!DatabaseHandler@{DatabaseHandler}}
\doxysubsubsection{\texorpdfstring{connect()}{connect()}}
{\footnotesize\ttfamily void Database\+Handler\+::connect (\begin{DoxyParamCaption}\item[{std\+::string}]{ip,  }\item[{int}]{port }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Establishes a connection to the database. 


\begin{DoxyParams}{Parameters}
{\em ip} & The ip in string format. \\
\hline
{\em port} & The portnumber to connect to. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classDatabaseHandler_a4e6082f015125e89739d19d1a26f2a39}\label{classDatabaseHandler_a4e6082f015125e89739d19d1a26f2a39}} 
\index{DatabaseHandler@{DatabaseHandler}!hashToMethods@{hashToMethods}}
\index{hashToMethods@{hashToMethods}!DatabaseHandler@{DatabaseHandler}}
\doxysubsubsection{\texorpdfstring{hashToMethods()}{hashToMethods()}}
{\footnotesize\ttfamily std\+::vector$<$ \mbox{\hyperlink{structtypes_1_1MethodOut}{Method\+Out}} $>$ Database\+Handler\+::hash\+To\+Methods (\begin{DoxyParamCaption}\item[{std\+::string}]{hash }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Retrieves all methods with a given hash. 


\begin{DoxyParams}{Parameters}
{\em hash} & The hash to be checked. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
All methods with the inputted hash. 
\end{DoxyReturn}
\mbox{\Hypertarget{classDatabaseHandler_a0ed09c0a095972ad79dbe40edb27e425}\label{classDatabaseHandler_a0ed09c0a095972ad79dbe40edb27e425}} 
\index{DatabaseHandler@{DatabaseHandler}!idToAuthor@{idToAuthor}}
\index{idToAuthor@{idToAuthor}!DatabaseHandler@{DatabaseHandler}}
\doxysubsubsection{\texorpdfstring{idToAuthor()}{idToAuthor()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structtypes_1_1Author}{Author}} Database\+Handler\+::id\+To\+Author (\begin{DoxyParamCaption}\item[{std\+::string}]{id }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Retrieves an author given its author\+ID. 


\begin{DoxyParams}{Parameters}
{\em id} & A string with the ID to be checked. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The author corresponding to the given ID. 
\end{DoxyReturn}
\mbox{\Hypertarget{classDatabaseHandler_ad78029a56591f8c817b652f10b96ac07}\label{classDatabaseHandler_ad78029a56591f8c817b652f10b96ac07}} 
\index{DatabaseHandler@{DatabaseHandler}!prevProject@{prevProject}}
\index{prevProject@{prevProject}!DatabaseHandler@{DatabaseHandler}}
\doxysubsubsection{\texorpdfstring{prevProject()}{prevProject()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structtypes_1_1ProjectOut}{Project\+Out}} Database\+Handler\+::prev\+Project (\begin{DoxyParamCaption}\item[{Project\+ID}]{project\+ID }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Retrieves the previous/latest version of the project present in the database. 


\begin{DoxyParams}{Parameters}
{\em project\+ID} & The project\+ID of the project to be searched for. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
If present, returns the previous/latest version of a project with the same project\+ID. Else, sets the errno to ERANGE and returns an empty project. 
\end{DoxyReturn}
\mbox{\Hypertarget{classDatabaseHandler_a0e968ed675264a5a3a35aef06e9cfca9}\label{classDatabaseHandler_a0e968ed675264a5a3a35aef06e9cfca9}} 
\index{DatabaseHandler@{DatabaseHandler}!searchForProject@{searchForProject}}
\index{searchForProject@{searchForProject}!DatabaseHandler@{DatabaseHandler}}
\doxysubsubsection{\texorpdfstring{searchForProject()}{searchForProject()}}
{\footnotesize\ttfamily \mbox{\hyperlink{structtypes_1_1ProjectOut}{Project\+Out}} Database\+Handler\+::search\+For\+Project (\begin{DoxyParamCaption}\item[{Project\+ID}]{project\+ID,  }\item[{Version}]{version }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Searches for a project in the database and returns it to the user if it exists. 


\begin{DoxyParams}{Parameters}
{\em project\+ID} & The project\+ID of the project to be searched for. \\
\hline
{\em version} & The version of the project to be searched for. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Returns the project corresponding to the input, if it exists. If no entry can be found, simply returns an empty project and sets the errno to ERANGE. 
\end{DoxyReturn}
\mbox{\Hypertarget{classDatabaseHandler_a845e3bb5b8470c9e276860e3eac15465}\label{classDatabaseHandler_a845e3bb5b8470c9e276860e3eac15465}} 
\index{DatabaseHandler@{DatabaseHandler}!updateUnchangedFiles@{updateUnchangedFiles}}
\index{updateUnchangedFiles@{updateUnchangedFiles}!DatabaseHandler@{DatabaseHandler}}
\doxysubsubsection{\texorpdfstring{updateUnchangedFiles()}{updateUnchangedFiles()}}
{\footnotesize\ttfamily std\+::vector$<$ Hash $>$ Database\+Handler\+::update\+Unchanged\+Files (\begin{DoxyParamCaption}\item[{std\+::vector$<$ Hash $>$}]{hashes,  }\item[{std\+::vector$<$ std\+::string $>$}]{files,  }\item[{\mbox{\hyperlink{structtypes_1_1ProjectIn}{Project\+In}}}]{project,  }\item[{long long}]{prev\+Version }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



Updates the methods in the previous version of the project that are part of an unchanged file. 


\begin{DoxyParams}{Parameters}
{\em hashes} & A list of hashes to be checked. \\
\hline
{\em files} & A list of files to be checked. \\
\hline
{\em project} & The added project for the project\+ID and new version. \\
\hline
{\em prev\+Version} & The previous version of the project to check whether it is a correct result. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A list of hashes that are updated. 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Search\+SECODatabase\+API/\+Database-\/\+API/Database\+Handler.\+h\item 
Search\+SECODatabase\+API/\+Database-\/\+API/Database\+Handler.\+cpp\item 
Search\+SECODatabase\+API/\+Database-\/\+API/Database\+Handler\+Get.\+cpp\item 
Search\+SECODatabase\+API/\+Database-\/\+API/Database\+Handler\+Set.\+cpp\end{DoxyCompactItemize}
